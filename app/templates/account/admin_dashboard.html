{% extends 'base/base.html' %}

{% block title %}All Bookings - Admin{% endblock %}

{% block head %}
  <link href="{{ url_for('static', filename='css/admin_dashboard.css') }}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="container py-5">
  <h2 class="mb-4">All Bookings</h2>

  {% if bookings %}
    <div class="table-responsive">
      <table class="table table-bordered table-hover text-white bg-dark">
        <thead class="thead-light">
          <tr>
            <th>User Image</th>
            <th>User</th>
            <th>Email</th>
            <th>Date</th>
            <th>Start</th>
            <th>Finish</th>
            <th>Studio</th>
            <th>Notes</th>
          </tr>
        </thead>
        <tbody>
          {% for booking in bookings %}
            <tr>
              <td><img src="{{ booking.user.profile_image or url_for('static', filename='images/default-profile.png') }}" alt="User Image" class="profile-thumb"></td>
              <td>{{ booking.user.username }}</td>
              <td>{{ booking.user.email }}</td>
              <td>{{ booking.date.strftime('%d %b %Y') }}</td>
              <td>{{ booking.start_time.strftime('%H:%M') }}</td>
              <td>{{ booking.finish_time.strftime('%H:%M') }}</td>
              <td>{{ booking.studio }}</td>
              <td>{{ booking.notes or 'â€”' }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <p class="text-light">No bookings available.</p>
  {% endif %}
</div>
{% endblock %}

{% block scripts %}
  <script src="{{ url_for('static', filename='javascript/account.js') }}"></script>
{% endblock %}
